[
    {
        "Host": "canary-am6-1:9100",
        "Job": "Canaries",
        "Matrixs": [
   	   ["Memory:",
        {
                "Name": "Avg Memory",
                "Decimal" : 2,
                "Expression" : "",
                "Scale" : "MB",
                "ValueToUse": "Avg",
                "Query": "(avg_over_time(node_memory_MemTotal_bytes{instance=~'HOSTTOKEN',job=~'JOBTOKEN'}[1m]) - ((avg_over_time(node_memory_MemFree_bytes{instance=~'HOSTTOKEN',job=~'JOBTOKEN'}[1m])) + sort_desc(avg_over_time(node_memory_Cached_bytes{instance=~'HOSTTOKEN',job=~'JOBTOKEN'}[1m])) + sort_desc(avg_over_time(node_memory_Buffers_bytes{instance=~'HOSTTOKEN',job=~'JOBTOKEN'}[1m])))) / 1024 / 1024"
            },
   	   {
                "Name": "Min Memory",
                "Decimal" : 2,
                "Expression" : "",
                "Scale" : "MB",
                "ValueToUse": "Min",
                "Query": "(min_over_time(node_memory_MemTotal_bytes{instance=~'HOSTTOKEN',job=~'JOBTOKEN'}[1m]) - (min_over_time(node_memory_MemFree_bytes{instance=~'HOSTTOKEN',job=~'JOBTOKEN'}[1m]) + min_over_time(node_memory_Cached_bytes{instance=~'HOSTTOKEN',job=~'JOBTOKEN'}[1m]) + min_over_time(node_memory_Buffers_bytes{instance=~'HOSTTOKEN',job=~'JOBTOKEN'}[1m]))) / 1024 / 1024"
            },
   	   {
                "Name": "Max Memory",
                "Decimal" : 2,
                "Expression" : "",
                "Scale" : "MB",
                "ValueToUse": "Max",
                "Query": "(max_over_time(node_memory_MemTotal_bytes{instance=~'HOSTTOKEN',job=~'JOBTOKEN'}[1m]) - (max_over_time(node_memory_MemFree_bytes{instance=~'HOSTTOKEN',job=~'JOBTOKEN'}[1m]) + max_over_time(node_memory_Cached_bytes{instance=~'HOSTTOKEN',job=~'JOBTOKEN'}[1m]) + max_over_time(node_memory_Buffers_bytes{instance=~'HOSTTOKEN',job=~'JOBTOKEN'}[1m]))) / 1024 / 1024"
            },
   	   {
                "Name": "95% Memory",
                "Decimal" : 2,
                "Expression" : "",
                "Scale" : "MB",
                "ValueToUse": "Max",
                "Query": "(quantile_over_time(node_memory_MemTotal_bytes{instance=~'HOSTTOKEN',job=~'JOBTOKEN'}[1m]) - (quantile_over_time(0.95,node_memory_MemFree_bytes{instance=~'HOSTTOKEN',job=~'JOBTOKEN'}[1m]) + quantile_over_time(0.95,node_memory_Cached_bytes{instance=~'HOSTTOKEN',job=~'JOBTOKEN'}[1m]) + quantile_over_time(0.95,node_memory_Buffers_bytes{instance=~'HOSTTOKEN',job=~'JOBTOKEN'}[1m]))) / 1024 / 1024"
            },
   	   {
                "Name": "99% Memory",
                "Decimal" : 2,
                "Expression" : "",
                "Scale" : "MB",
                "ValueToUse": "Max",
                "Query": "(quantile_over_time(0.99,node_memory_MemTotal_bytes{instance=~'HOSTTOKEN',job=~'JOBTOKEN'}[1m]) - (quantile_over_time(0.99,node_memory_MemFree_bytes{instance=~'HOSTTOKEN',job=~'JOBTOKEN'}[1m]) + quantile_over_time(0.99,node_memory_Cached_bytes{instance=~'HOSTTOKEN',job=~'JOBTOKEN'}[1m]) + quantile_over_time(0.99,node_memory_Buffers_bytes{instance=~'HOSTTOKEN',job=~'JOBTOKEN'}[1m]))) / 1024 / 1024"
            }],
            ["CPU:",
            {
                "Name" : "Avg CPU Busy",
                "Decimal" : 2,
                "Expression" : "",
                "Scale" : "",
                "ValueToUse": "Avg",
                "Query": "(count(count(node_cpu_seconds_total{instance=~'HOSTTOKEN',job=~'JOBTOKEN'}) by (cpu))) - avg(sum by (mode)(irate(node_cpu_seconds_total{mode='idle',instance=~'HOSTTOKEN',job=~'JOBTOKEN'}[5m])))"
            },
            {
                "Name" : "Min CPU Busy",
                "Decimal" : 2,
                "Expression" : "",
                "Scale" : "",
                "ValueToUse": "Min",
                "Query": "(count(count(node_cpu_seconds_total{instance=~'HOSTTOKEN',job=~'JOBTOKEN'}) by (cpu))) - avg(sum by (mode)(irate(node_cpu_seconds_total{mode='idle',instance=~'HOSTTOKEN',job=~'JOBTOKEN'}[5m])))"
            },
            {
                "Name" : "Max CPU Busy",
                "Decimal" : 2,
                "Expression" : "",
                "Scale" : "",
                "ValueToUse": "Max",
                "Query": "(count(count(node_cpu_seconds_total{instance=~'HOSTTOKEN',job=~'JOBTOKEN'}) by (cpu))) - avg(sum by (mode)(irate(node_cpu_seconds_total{mode='idle',instance=~'HOSTTOKEN',job=~'JOBTOKEN'}[5m])))"
            },
            {
                  "Name": "95% CPU Busy",
                  "Decimal" : 2,
                  "Expression" : "",
                  "Scale" : "",
                  "ValueToUse": "Max",
                  "Query": "(count(count(node_cpu_seconds_total{instance=~'HOSTTOKEN',job=~'JOBTOKEN'}) by (cpu))) - quantile_over_time(0.95,sum by (mode)(irate(node_cpu_seconds_total{mode='idle',instance=~'HOSTTOKEN',job=~'JOBTOKEN'}[5m])))"
            },
            {
                  "Name": "99% CPU Busy",
                  "Decimal" : 2,
                  "Expression" : "",
                  "Scale" : "%",
                  "ValueToUse": "Max",
                  "Query": "100 * (1 -((quantile_over_time(0.99,node_memory_MemFree_bytes{instance=~'HOSTTOKEN',job=~'JOBTOKEN'}[1m]) + quantile_over_time(0.99,node_memory_Cached_bytes{instance=~'HOSTTOKEN',job=~'JOBTOKEN'}[1m]) + quantile_over_time(0.99,node_memory_Buffers_bytes{instance=~'HOSTTOKEN',job=~'JOBTOKEN'}[1m])) / quantile_over_time(0.99,node_memory_MemTotal_bytes{instance=~'HOSTTOKEN',job=~'JOBTOKEN'}[1m])))"
            }],
            ["Disk:",
                {
                "Name" : "Max Disk read bytes",
                "Decimal" : 2,
                "Expression" : "",
                "Scale" : "MB",
                "ValueToUse": "Last",
                "Query": "sum(max_over_time(irate(node_disk_read_bytes_total{instance=~'HOSTTOKEN',job=~'JOBTOKEN'}[1m])[5m:]))/1024/1024"
            },
            {
                "Name" : "Min Disk read bytes",
                "Decimal" : 2,
                "Expression" : "",
                "Scale" : "MB",
                "ValueToUse": "Last",
                "Query": "sum(min_over_time(irate(node_disk_read_bytes_total{instance=~'HOSTTOKEN',job=~'JOBTOKEN'}[1m])[5m:]))/1024/1024"
            },
            {
                "Name" : "Avg Disk read bytes",
                "Decimal" : 2,
                "Expression" : "",
                "Scale" : "MB",
                "ValueToUse": "Last",
                "Query": "sum(avg_over_time(irate(node_disk_read_bytes_total{instance=~'HOSTTOKEN',job=~'JOBTOKEN'}[1m])[5m:]))/1024/1024"
            },
            {
                "Name" : "95% Disk read bytes",
                "Decimal" : 2,
                "Expression" : "",
                "Scale" : "MB",
                "ValueToUse": "Last",
                "Query": "sum(quantile_over_time(0.95,irate(node_disk_read_bytes_total{instance=~'HOSTTOKEN',job=~'JOBTOKEN'}[1m])[5m:]))/1024/1024"
            },
            {
                "Name" : "99% Disk read bytes",
                "Decimal" : 2,
                "Expression" : "",
                "Scale" : "MB",
                "ValueToUse": "Last",
                "Query": "sum(quantile_over_time(0.99,irate(node_disk_read_bytes_total{instance=~'HOSTTOKEN',job=~'JOBTOKEN'}[1m])[5m:]))/1024/1024"
            },
            {
                "Name" : "Max Disk writeen bytes",
                "Decimal" : 2,
                "Expression" : "",
                "Scale" : "MB",
                "ValueToUse": "Max",
                "Query": "sum(max_over_time(irate(node_disk_written_bytes_total{instance=~'HOSTTOKEN',job=~'JOBTOKEN'}[1m])[5m:]))/1024/1024"
            },
            {
                "Name" : "Min Disk written bytes",
                "Decimal" : 2,
                "Expression" : "",
                "Scale" : "MB",
                "ValueToUse": "Min",
                "Query": "sum(min_over_time(irate(node_disk_written_bytes_total{instance=~'HOSTTOKEN',job=~'JOBTOKEN'}[1m])[5m:]))/1024/1024"
            },
            {
                "Name" : "Avg Disk written bytes",
                "Decimal" : 2,
                "Expression" : "",
                "Scale" : "MB",
                "ValueToUse": "Last",
                "Query": "sum(avg_over_time(irate(node_disk_written_bytes_total{instance=~'HOSTTOKEN',job=~'JOBTOKEN'}[1m])[5m:]))/1024/1024"
            },
            {
                "Name" : "95% Disk written bytes",
                "Decimal" : 2,
                "Expression" : "",
                "Scale" : "MB",
                "ValueToUse": "Max",
                "Query": "sum(quantile_over_time(0.95,irate(node_disk_written_bytes_total{instance=~'HOSTTOKEN',job=~'JOBTOKEN'}[1m])[5m:]))/1024/1024"
            },
            {
                "Name" : "99% Disk written bytes",
                "Decimal" : 2,
                "Expression" : "",
                "Scale" : "MB",
                "ValueToUse": "Max",
                "Query": "sum(quantile_over_time(0.99,irate(node_disk_written_bytes_total{instance=~'HOSTTOKEN',job=~'JOBTOKEN'}[1m])[5m:]))/1024/1024"
            },
            {
                "Name" : "Max IOPS",
                "Decimal" : 2,
                "Expression" : "",
                "Scale" : "",
                "ValueToUse": "Max",
                "Query": "sum(max_over_time(irate(node_disk_io_now{instance=~'HOSTTOKEN',job=~'JOBTOKEN'}[1m])[5m:]))/1024/1024"
            },
            {
                "Name" : "Min IOPS",
                "Decimal" : 2,
                "Expression" : "",
                "Scale" : "",
                "ValueToUse": "Min",
                "Query": "sum(min_over_time(irate(node_disk_io_now{instance=~'HOSTTOKEN',job=~'JOBTOKEN'}[1m])[5m:]))/1024/1024"
            },
            {
                "Name" : "Avg IOPS",
                "Decimal" : 2,
                "Expression" : "",
                "Scale" : "",
                "ValueToUse": "Avg",
                "Query": "sum(avg_over_time(irate(node_disk_io_now{instance=~'HOSTTOKEN',job=~'JOBTOKEN'}[1m])[5m:]))/1024/1024"
            },
            {
                "Name" : "95% IOPS",
                "Decimal" : 2,
                "Expression" : "",
                "Scale" : "",
                "ValueToUse": "Max",
                "Query": "sum(quantile_over_time(0.95,irate(node_disk_io_now{instance=~'HOSTTOKEN',job=~'JOBTOKEN'}[1m])[5m:]))/1024/1024"
            },
            {
                "Name" : "99% IOPS",
                "Decimal" : 2,
                "Expression" : "",
                "Scale" : "",
                "ValueToUse": "Max",
                "Query": "sum(quantile_over_time(0.99,irate(node_disk_io_now{instance=~'HOSTTOKEN',job=~'JOBTOKEN'}[1m])[5m:]))/1024/1024"
            }],
            ["Network:",
                {
                "Name" : "Max Network Received bytes",
                "Decimal" : 2,
                "Expression" : "",
                "Scale" : "MB",
                "ValueToUse": "Max",
                "Query": "sum(max_over_time(irate(node_network_receive_bytes_total{instance=~'HOSTTOKEN',job=~'JOBTOKEN'}[5m])[5m:]))/1024/1024"
            },
            {
                "Name" : "Min Network Received bytes",
                "Decimal" : 2,
                "Expression" : "",
                "Scale" : "MB",
                "ValueToUse": "Min",
                "Query": "sum(min_over_time(irate(node_network_receive_bytes_total{instance=~'HOSTTOKEN',job=~'JOBTOKEN'}[5m])[5m:]))/1024/1024"
            },
            {
                "Name" : "Avg Network Received bytes",
                "Decimal" : 2,
                "Expression" : "",
                "Scale" : "MB",
                "ValueToUse": "Last",
                "Query": "sum(avg_over_time(irate(node_network_receive_bytes_total{instance=~'HOSTTOKEN',job=~'JOBTOKEN'}[5m])[5m:]))/1024/1024"
            },
            {
                "Name" : "95% Network Received bytes",
                "Decimal" : 2,
                "Expression" : "",
                "Scale" : "MB",
                "ValueToUse": "Max",
                "Query": "sum(quantile_over_time(0.95,irate(node_network_receive_bytes_total{instance=~'HOSTTOKEN',job=~'JOBTOKEN'}[5m])[5m:]))/1024/1024"
            },
            {
                "Name" : "99% Network Received bytes",
                "Decimal" : 2,
                "Expression" : "",
                "Scale" : "MB",
                "ValueToUse": "Max",
                "Query": "sum(quantile_over_time(0.99,irate(node_network_receive_bytes_total{instance=~'HOSTTOKEN',job=~'JOBTOKEN'}[5m])[5m:]))/1024/1024"
            },
            {
                "Name" : "Max Network Transmit bytes",
                "Decimal" : 2,
                "Expression" : "",
                "Scale" : "MB",
                "ValueToUse": "Max",
                "Query": "sum(max_over_time(irate(node_network_transmit_bytes_total{instance=~'HOSTTOKEN',job=~'JOBTOKEN'}[5m])[5m:]))/1024/1024"
            },
            {
                "Name" : "Min Network Transmit bytes",
                "Decimal" : 2,
                "Expression" : "",
                "Scale" : "MB",
                "ValueToUse": "Min",
                "Query": "sum(min_over_time(irate(node_network_transmit_bytes_total{instance=~'HOSTTOKEN',job=~'JOBTOKEN'}[5m])[5m:]))/1024/1024"
            },
            {
                "Name" : "Avg Network Transmit bytes",
                "Decimal" : 2,
                "Expression" : "",
                "Scale" : "MB",
                "ValueToUse": "Last",
                "Query": "sum(avg_over_time(irate(node_network_transmit_bytes_total{instance=~'HOSTTOKEN',job=~'JOBTOKEN'}[5m])[5m:]))/1024/1024"
            },
            {
                "Name" : "95% Network Transmit bytes",
                "Decimal" : 2,
                "Expression" : "",
                "Scale" : "MB",
                "ValueToUse": "Last",
                "Query": "sum(quantile_over_time(0.95,irate(node_network_transmit_bytes_total{instance=~'HOSTTOKEN',job=~'JOBTOKEN'}[5m])[5m:]))/1024/1024"
            },
            {
                "Name" : "99% Network Transmit bytes",
                "Decimal" : 2,
                "Expression" : "",
                "Scale" : "MB",
                "ValueToUse": "Last",
                "Query": "sum(quantile_over_time(0.99,irate(node_network_transmit_bytes_total{instance=~'HOSTTOKEN',job=~'JOBTOKEN'}[5m])[5m:]))/1024/1024"
            }]
        ]
    }
]
